---
const allPosts = await Astro.glob('../pages/posts/*.md');
const { class: className } = Astro.props;
let displayPosts = Astro.props.postCount
  ? allPosts.slice(-Astro.props.postCount)
  : allPosts;

interface Props {
  postCount?: number;
  class?: string;
}
---

<ul class={`list-none pl-0 ${className}`}>
  {
    displayPosts.map((post) => (
      <li class="grid grid-cols-1 border-b-[0.5px] p-2.5 sm:grid-cols-3 dark:border-slate-400/20">
        <div class="col-span-1 self-center text-slate-600/75 dark:text-slate-200/60">
          {post.frontmatter.pubDate}
        </div>
        <div class="col-span-2 sm:text-right">
          <a
            href={post.url}
            class="block text-xl font-[600] text-slate-700 underline decoration-sky-500 decoration-2 underline-offset-[5px] hover:text-slate-600/80 hover:decoration-sky-300 dark:text-slate-200 dark:decoration-sky-500 dark:hover:text-slate-200/75 dark:hover:underline dark:hover:decoration-sky-600/80">
            {post.frontmatter.title}
          </a>
        </div>
      </li>
    ))
  }
</ul>
