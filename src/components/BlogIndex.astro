---
const allPosts = await Astro.glob('@pages/posts/*.md');
const { class: className } = Astro.props;
let displayPosts = Astro.props.postCount
  ? allPosts.slice(-Astro.props.postCount)
  : allPosts;

interface Props {
  postCount?: number;
  class?: string;
}
---

<ul class={`list-none pl-0 ${className}`}>
  {
    displayPosts.map((post) => (
      <li class="grid grid-cols-1 sm:grid-cols-3 p-2.5 border-b-[0.5px] dark:border-base/20">
        <div class="text-dark/75 dark:text-muted-light/60 col-span-1 self-center">
          {post.frontmatter.pubDate}
        </div>
        <div class="col-span-2 sm:text-right">
          <a
            href={post.url}
            class="dark:text-light text-dark hover:text-dark/80 dark:hover:text-muted-light/75 block text-xl font-[600] underline decoration-accent-500 decoration-2 underline-offset-[5px] hover:decoration-accent-300 dark:decoration-accent-500 dark:hover:underline dark:hover:decoration-accent-600/80">
            {post.frontmatter.title}
          </a>
        </div>
      </li>
    ))
  }
</ul>
