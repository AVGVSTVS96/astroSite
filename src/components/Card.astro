---
import { cn } from '@/lib/utils';

interface Props {
  title?: string;
  subtitle?: string;
  heading?: string;
  variant: 'bordered' | 'borderless';
  displayHr?: boolean;
  padding?: string;
  class?: string;
  noMargin?: boolean;
}

const {
  title,
  subtitle,
  heading,
  variant,
  displayHr,
  padding = 'card-p',
  class: className,
  noMargin = false,
} = Astro.props;

const baseStyles: string =
  'prose prose-slate rounded-lg dark:prose-invert prose-h2:font-semibold prose-h2:text-xl prose-h2:text-muted-foreground';

const variableStyles: (string | undefined)[] = [
  padding,
  className,
  noMargin ? '' : 'mx-4',
  variant === 'borderless' ? '' : 'border',
];
---

<div class={cn(baseStyles, variableStyles)}>
  {title && <h1 class="mb-2">{title}</h1>}
  {subtitle && <h2 class="mt-0">{subtitle}</h2>}
  {displayHr && <hr class="mb-8 border-accent-500" />}
  {heading && <h3 class="mb-1">{heading}</h3>}
  <slot name="content" />
</div>
