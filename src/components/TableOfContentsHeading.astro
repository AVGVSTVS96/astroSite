---
const { class: className, heading } = Astro.props;
import { Icon } from 'astro-icon/components';
---

<li class={className}>
  <a href={'#' + heading.slug} class="no-underline">
    {heading.text}
  </a>
  {
    heading.subheadings.length > 0 && (
      <ul class="my-0 list-none px-0">
        {heading.subheadings.map((subheading) => (
          <li class="px-0">
            <a
              href={'#' + subheading.slug}
              class="group flex items-start no-underline">
              <Icon
                name="sideCaret"
                size={13}
                class="mx-1 mt-1 flex-shrink-0 stroke-slate-500 group-hover:stroke-slate-400/80 dark:stroke-slate-400 dark:group-hover:stroke-slate-300"
                title="caret-icon"
              />
              {subheading.text}
            </a>
          </li>
        ))}
      </ul>
    )
  }
</li>

<style>
  li:has(.active) > a {
    @apply text-sky-400 hover:text-sky-300;
  }

  :root:is(.dark) li:has(.active) > a {
    @apply text-sky-300/70 hover:text-sky-300/90;
  }

  a:hover {
    @apply text-slate-400 dark:text-slate-300/85;
  }
</style>
