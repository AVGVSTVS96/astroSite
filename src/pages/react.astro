---
import '@styles/shad.css';
// import '@styles/global.css';
import { Button } from '@components/ui/button';
import { ModeToggle } from '@components/subComponents/ModeToggle';
---

<script is:inline>
  const getThemePreference = () => {
    if (typeof localStorage !== 'undefined' && localStorage.getItem('theme')) {
      return localStorage.getItem('theme');
    } else {
      return window.matchMedia('(prefers-color-scheme: dark)').matches
        ? 'dark'
        : 'light';
    }
  };

  const isDark = getThemePreference() === 'dark';
  document.documentElement.classList.toggle('dark', isDark);

  if (typeof localStorage !== 'undefined') {
    window.addEventListener('storage', () => {
      const isDark = document.documentElement.classList.contains('dark');
      localStorage.setItem('theme', isDark ? 'dark' : 'light');
    });
  }
</script>
<header class="flex items-center border-b border-border/50 px-8 py-2">
  <h1
    class="flex items-center gap-x-2.5 text-xl font-bold text-foreground dark:text-muted-light">
    <svg
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 256 256"
      class="h-6 w-6"
      ><rect width="256" height="256" fill="none"></rect><line
        x1="208"
        y1="128"
        x2="128"
        y2="208"
        fill="none"
        stroke="currentColor"
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="16"></line><line
        x1="192"
        y1="40"
        x2="40"
        y2="192"
        fill="none"
        stroke="currentColor"
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="16"></line>
    </svg>
    bassim
  </h1>
  <nav class="button-container flex w-full items-center justify-between pl-3">
    <a href="/">
      <Button
        variant="link"
        className="h-10 text-muted-dark hover:text-dark hover:no-underline dark:text-primary-400 dark:hover:text-muted-light/85">
        Home
      </Button>
    </a>
    <ModeToggle client:load />
  </nav>
</header>
